{"version":3,"sources":["../../../src/controllers/globalController/VerifyJWTToken.js"],"names":["verifyJwtToken","findProject","removeFromArray","token","Promise","resolve","reject","jwt","verify","JWTSecret","err","decodedToken","projects","projectId","identifier","findIndex","project","members","name","member"],"mappings":";;;;;QAIgBA,c,GAAAA,c;QAWAC,W,GAAAA,W;QAMAC,e,GAAAA,e;;AArBhB;;AACA;;;;AACA;;;;AAEO,SAASF,cAAT,CAAwBG,KAAxB,EAA8B;AACjC,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAmB;AAClCC,+BAAIC,MAAJ,CAAWL,KAAX,EAAiBM,mBAAjB,EAA4B,UAACC,GAAD,EAAMC,YAAN,EAAqB;AAC7C,gBAAGD,OAAO,CAACC,YAAX,EAAwB;AACpB,uBAAOL,OAAOI,GAAP,CAAP;AACH;AACD,mBAAOL,QAAQM,YAAR,CAAP;AACH,SALD;AAMH,KAPM,CAAP;AAQH;;AAEM,SAASV,WAAT,CAAqBW,QAArB,EAA+BC,SAA/B,EAAyCC,UAAzC,EAAoD;AACvD,WAAOF,SAASG,SAAT,CAAmB,UAACC,OAAD,EAAW;AACjC,eAAOA,QAAQF,UAAR,KAAuBD,SAA9B;AACH,KAFM,CAAP;AAGH;;AAEM,SAASX,eAAT,CAAyBe,OAAzB,EAAkCC,IAAlC,EAAuC;AAC1C,WAAO,yBAAQD,OAAR,EAAiB,2BAAUE,MAAV,EAAkB;AACtCD,cAAMA;AADgC,KAAlB,CAAjB,CAAP;AAGH","file":"VerifyJWTToken.js","sourcesContent":["import {map, findIndex, without,findWhere, each} from 'underscore'\nimport jwt from  'jsonwebtoken';\nimport {JWTSecret} from '../../globals/DbConfig';\n\nexport function verifyJwtToken(token){\n    return new Promise((resolve, reject)=>{\n        jwt.verify(token,JWTSecret, (err, decodedToken)=>{\n            if(err || !decodedToken){\n                return reject(err);\n            }\n            return resolve(decodedToken)\n        })\n    })\n}\n\nexport function findProject(projects, projectId,identifier){\n    return projects.findIndex((project)=>{\n        return project[identifier] == projectId;\n    });\n}\n\nexport function removeFromArray(members, name){\n    return without(members, findWhere(member, {\n        name: name\n    }));\n}"]}